# ═══════════════════════════════════════════════════════════════════════════════
# AI Docs System — Конфигурация проекта
# ═══════════════════════════════════════════════════════════════════════════════
#
# Этот файл определяет как система понимает структуру вашего проекта.
# Все значения — CSV списки без пробелов.
#
# После изменения запустите: ./install.sh . update
#

# ─── Папки и расширения кода ────────────────────────────────────────────────────
# Какие папки считать "кодом" (изменения в них триггерят напоминание о доке)
CODE_DIRS=src,app,apps,packages,services,server,client,api,lib,cmd,internal,supabase

# Какие расширения файлов считать кодом
CODE_EXTS=ts,tsx,js,jsx,mjs,cjs,py,go,rs,java,kt,kts,cs,php,rb,swift,c,cpp,h,hpp,sql,graphql,proto

# ─── Папки и расширения документации ────────────────────────────────────────────
# Где лежит документация
DOC_DIRS=docs,doc,documentation

# Какие расширения считать документацией
DOC_EXTS=md,mdx,rst,adoc

# Дополнительные корни для docs в monorepo (например: packages,apps)
# Если задано, то packages/*/docs/ и apps/*/docs/ также будут считаться документацией
# DOC_DIRS_ROOTS=packages,apps
DOC_DIRS_ROOTS=

# Отдельные файлы документации в корне
DOC_FILES=README.md,CHANGELOG.md,CONTRIBUTING.md,ARCHITECTURE.md

# ─── Игнорируемые папки ─────────────────────────────────────────────────────────
IGNORE_DIRS=node_modules,vendor,dist,build,.git,.idea,.vscode,__pycache__,.next,.nuxt

# ─── Маппинг: тип изменений → папка документации ────────────────────────────────
# Паттерны в пути файла (частичное совпадение)
#
# Бизнес-логика, фичи, компоненты → docs/features/
MAP_FEATURES=src/,app/,lib/,components/,hooks/,pages/,views/,controllers/,handlers/

# Схема данных, модели, типы → docs/architecture/
MAP_ARCHITECTURE=schema,models,entities,types,interfaces,database,migrations,prisma,drizzle

# Инфраструктура, DevOps → docs/infrastructure/
MAP_INFRASTRUCTURE=deploy,docker,k8s,kubernetes,terraform,ansible,ci,cd,.github/workflows,Dockerfile,docker-compose,supabase/functions

# ─── Включённые правила ─────────────────────────────────────────────────────────
# Файлы из rules/ которые активны (без .md)
# Доступные правила: adr,doc-first,pending-write,shortcuts,structure,update-docs
RULES_ENABLED=doc-first,update-docs,adr,shortcuts,structure,pending-write

# ─── Шорткаты ───────────────────────────────────────────────────────────────────
# Команда для быстрого обновления документации
SHORTCUT_UPDATE_DOCS===

# ─── Адаптеры ───────────────────────────────────────────────────────────────────
# Какие файлы правил генерировать для разных AI-помощников
# Доступные адаптеры: cursor,copilot,claude,cline
ADAPTERS=cursor

# ─── Метаданные ─────────────────────────────────────────────────────────────────
# Владелец по умолчанию для новых документов
DEFAULT_OWNER=@Pixasso

# ─── Режим работы с git hooks ────────────────────────────────────────────────────
# auto     - автоопределение (managed если hooksPath не задан, иначе integrate)
# managed  - система управляет .githooks (устанавливает core.hooksPath)
# integrate - система предлагает интеграцию (не меняет hooksPath)
# off      - хуки не устанавливаются
HOOKS_MODE=auto

# ─── Pending Updates (очередь отложенных обновлений) ─────────────────────────────
# Local очередь (gitignored, межсессионность для одного разработчика)
PENDING_UPDATES_LOCAL=.ai-docs-system/state/pending-updates.queue

# Shared очередь (versioned, команда видит; пусто = выключено)
PENDING_UPDATES_SHARED=

# Куда писать: local|shared|both|off (off/none = отключить запись)
PENDING_UPDATES_WRITE=local

# ─── Проверка актуальности документов ────────────────────────────────────────────
# Через сколько дней документ считается устаревшим
DOC_STALE_DAYS=30

# Максимум устаревших документов в выводе (остальные "ещё N...")
DOC_STALE_MAX=5

# ─── Обновления системы ────────────────────────────────────────────────────────
# Версия/ветка для update.sh: тег (v2.3.9), semver (2.3.9) или ветка (main)
# Semver без v автоматически пробует как тег v$REF
# UPDATE_REF=main

# ═══════════════════════════════════════════════════════════════════════════════
# Примеры кастомизации под специфичные проекты
# ═══════════════════════════════════════════════════════════════════════════════
#
# Раскомментируйте и добавьте в соответствующие переменные:
#
# ─── Monorepo ────────────────────────────────────────────────────────────────────
# CODE_DIRS: добавьте nx,turborepo,lerna
# IGNORE_DIRS: добавьте .turbo,.nx
#
# ─── Временные/служебные папки ───────────────────────────────────────────────────
# IGNORE_DIRS: добавьте tmp,temp,cache,.cache,logs
# Пример проекта: rls-migration-prep,scripts/temp
#
# ─── Дополнительные языки ────────────────────────────────────────────────────────
# CODE_EXTS: добавьте dart,lua,scala,ex,exs (Elixir),clj,cljs (Clojure)
#
# ─── Дополнительные фреймворки ───────────────────────────────────────────────────
# CODE_DIRS: добавьте functions (для Cloud Functions/Edge Functions)
# MAP_FEATURES: добавьте routes/ (для файловый роутинг)
#
# ─── После изменений ─────────────────────────────────────────────────────────────
# Запустите: ./install.sh . update
