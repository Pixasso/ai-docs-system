# Документация

> **Status:** current  
> **Last verified:** 2026-02-03  
> **Owner:** @Pixasso

---

## Структура

### [architecture/](./architecture/) — Архитектура системы
Высокоуровневый дизайн, компоненты, потоки данных.

### [features/](./features/) — Функциональность и модули
Как работает каждая функция для пользователей.

### [infrastructure/](./infrastructure/) — Инфраструктура
Серверы, развёртывание, DevOps, секреты.

### [spec/](./spec/) — Спецификации задач
Связь планов и реализации, чеклисты выполнения.

### [plans/](./plans/) — Планы и идеи
Дорожная карта, нереализованные функции, исследования.

### [adr/](./adr/) — Architecture Decision Records
Задокументированные архитектурные решения.

### [archive/](./archive/) — Архив
Устаревшие документы, исторические заметки о правках.

---

## Быстрые ссылки

| Задача | Документ |
|--------|----------|
| Развёртывание | [/docs/infrastructure/DEPLOY.md](/docs/infrastructure/DEPLOY.md) |
| Архитектура | [/docs/architecture/OVERVIEW.md](/docs/architecture/OVERVIEW.md) |

---

## Как документировать

### Метаданные

Каждый документ должен начинаться с:

```markdown
> **Status:** current | draft | legacy  
> **Last verified:** 2026-02-03  
> **Owner:** @Pixasso
```

- **current** — актуальный, проверенный
- **draft** — в процессе, требует ревью
- **legacy** — устаревший, но может быть полезен для справки

### Ссылки

**ВСЕГДА используйте абсолютные пути от корня репозитория:**

- Правильно: `/docs/features/auth/README.md`
- Неправильно: `../auth/README.md`

### Правила

1. **Изменил код → обнови документацию**
   - `src/` → `docs/features/`
   - `services/` → `docs/infrastructure/`
   - Схема БД → `docs/architecture/`

2. **Архитектурное решение → создай ADR**
   - Формат: Контекст → Решение → Альтернативы → Последствия
   - Файл: `docs/adr/NNNN-название.md`

3. **Никаких секретов в git**
   - Учётные данные в отдельном файле (не коммитить)

---

## Автоматизация

### Pre-commit Hook

При коммите изменений в коде без обновления документации увидите напоминание:

```
⚠️  Напоминание: Вы изменили код, но не обновили документацию
```

**Не блокирует коммиты** — просто напоминание.

### Cursor Agent

Используйте Cursor Agent (`Cmd+Shift+I`) и введите:

- **"=="** — автообновить релевантную документацию
- "Обнови документацию для изменений в [файл]"
- "Создай ADR для решения X"

---

## Шаблон ADR

```markdown
# ADR-0001: Название решения

> **Status:** accepted  
> **Date:** YYYY-MM-DD  
> **Author:** @Pixasso

## Контекст
[Решаемая проблема]

## Решение
[Что было решено и почему]

## Альтернативы
[Что ещё рассматривалось и почему отклонено]

## Последствия
[Что изменится после этого решения]
```
